<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Thanh Hóa 36</title>
  <style>
    :root{--bg:#000}
    html,body{height:100%;margin:0;background:var(--bg);color:#fff;overflow:hidden;font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif}
    .center{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center;gap:12px}
    input[type="text"]{padding:12px 16px;border-radius:8px;border:1px solid rgba(255,255,255,0.08);background:rgba(255,255,255,0.03);color:#fff;font-size:18px;outline:none}
    .btn{padding:10px 14px;border-radius:8px;border:1px solid #222;background:#000;color:#fff;cursor:pointer;transition:background-color 250ms ease,color 250ms ease}
    .btn:hover{background:#fff;color:#000}
    .hint{color:#bbb;font-size:14px}
    .big{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%) scale(0.15);color:#fff;text-align:center;white-space:nowrap;will-change:transform,opacity}
    .msg{color:#f3f3f3;background:rgba(255,255,255,0.03);padding:8px 12px;border-radius:8px;margin-top:8px}
    .spam{position:fixed;left:0;top:0;right:0;bottom:0;pointer-events:none}
    .span{position:absolute;white-space:nowrap;pointer-events:none;user-select:none;opacity:0;transform:translate3d(0,0,0);will-change:opacity,transform}
    @keyframes appear {
      0%{opacity:0;transform:scale(0.95)}
      15%{opacity:1;transform:scale(1)}
      85%{opacity:1}
      100%{opacity:0;transform:scale(0.98)}
    }
  </style>
</head>
<body>
  <div id="overlay" class="center" aria-hidden="false">
    <input id="numInput" type="text" placeholder="Nhập số" autocomplete="off" />
    <button id="submitBtn" class="btn">Nhập số</button>
    <div id="msg" style="display:none" class="msg"></div>
  </div>
  <div id="big" style="display:none" class="big">Thanh Hóa 36</div>
  <div id="spam" class="spam" aria-hidden="true"></div>

  <script>
    const INPUT = document.getElementById('numInput');
    const SUBMIT = document.getElementById('submitBtn');
    const OVERLAY = document.getElementById('overlay');
    const MSG = document.getElementById('msg');
    const BIG = document.getElementById('big');
    const SPAM = document.getElementById('spam');
    const TARGET = '36';
    let msgTimer = null;
    let spamStarted = false;

    function randRange(min,max){return Math.random()*(max-min)+min}

    function showMessage(text,ms=5000){
      if(msgTimer) { clearTimeout(msgTimer); msgTimer = null }
      MSG.textContent = text;
      MSG.style.display = 'block';
      // auto-hide after ms
      msgTimer = setTimeout(()=>{ MSG.style.display='none'; msgTimer=null }, ms);
    }

    function startBigThenSpam(){
      if(spamStarted) return;
      spamStarted = true;
      // hide overlay and message
      OVERLAY.style.display = 'none';
      MSG.style.display = 'none'; if(msgTimer){ clearTimeout(msgTimer); msgTimer=null }

      // show big centered text and animate scale up to fit screen (~45% of smaller viewport dimension)
      BIG.style.display = 'block';
      BIG.style.opacity = '1';
      BIG.style.transition = 'transform 3s ease-in-out, opacity 0.6s linear 3s';
      const targetSize = Math.min(window.innerWidth * 0.45, window.innerHeight * 0.45);
      BIG.style.fontSize = targetSize + 'px';
      // ensure starting small
      BIG.style.transform = 'translate(-50%,-50%) scale(0.15)';
      requestAnimationFrame(()=>{
        BIG.style.transform = 'translate(-50%,-50%) scale(1)';
      });

      // after transition ends (~3s), fade out and start spam
      const onEnd = ()=>{
        BIG.removeEventListener('transitionend', onEnd);
        // fade out then hide
        BIG.style.transition = 'opacity 0.6s linear';
        BIG.style.opacity = '0';
        setTimeout(()=>{ BIG.style.display='none'; startSpam() }, 650);
      };
      BIG.addEventListener('transitionend', onEnd);
    }

    function startSpam(){
      // create many slots and animate lifecycle; no movement, just appear/disappear in place
    const TEXT = 'Thanh Hóa 36';
  const COUNT = 20000;

      function createSlot(){
        const el = document.createElement('div');
        el.className = 'span';
  // place strictly within viewport so the screen fills
  el.style.left = (randRange(0,100)) + '%';
  el.style.top = (randRange(0,100)) + '%';
        SPAM.appendChild(el);

        (function run(el){
          function start(){
            // larger size range to better cover the viewport
            const size = Math.round(randRange(12,64));
            el.style.fontSize = size + 'px';
            el.style.color = 'hsl(' + Math.floor(Math.random()*360) + ' 70% 80%)';
            el.textContent = TEXT;
            // slower disappearance: longer animation durations
            const dur = randRange(1.2,3.5).toFixed(2) + 's';
            el.style.animation = 'none';
            void el.offsetWidth;
            el.style.animation = 'appear ' + dur + ' linear 0s 1 both';
          }
          el.addEventListener('animationend', ()=>{
            // reposition within viewport and restart after a short pause
            el.style.left = (randRange(0,100)) + '%';
            el.style.top = (randRange(0,100)) + '%';
            setTimeout(()=> start(), 100 + Math.random()*800);
          });
          setTimeout(()=> start(), 100 + Math.random()*800);
        })(el);
      }

      for(let i=0;i<COUNT;i++) createSlot();
    }

    // input handling
    function handleInput(){
      const v = INPUT.value.trim();
      if(v === TARGET){
        // if message showing, hide it
        if(msgTimer){ clearTimeout(msgTimer); msgTimer=null; MSG.style.display='none' }
        startBigThenSpam();
      } else {
        // show teasing message near input for 5s; if 36 typed meanwhile it will be cleared above
        showMessage('Chọn số gì chán v, thử 36 đi', 5000);
      }
    }

    INPUT.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter'){
        handleInput();
      }
    });
    // submit button
    SUBMIT.addEventListener('click', ()=>{ handleInput() });

    // if user types 36 while message visible, immediate trigger
    INPUT.addEventListener('input', ()=>{
      if(INPUT.value.trim() === TARGET){
        handleInput();
      }
    });
  </script>
</body>
</html>
